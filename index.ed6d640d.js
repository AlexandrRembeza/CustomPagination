var t={form:document.querySelector(".form"),moviesList:document.querySelector(".movies-list"),paginationList:document.querySelector(".pagination-list"),buttons:document.querySelectorAll(".pagination-button"),prevButton:document.querySelector(".pagination-item:first-child button"),nextButton:document.querySelector(".pagination-item:last-child button")};function n(t){return t.map((({original_title:t})=>`\n      <li class="movies-item">${t}</li>\n    `)).join("")}let a=1,i="war",o=0;async function e(t,n){const a=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=6308d1a98819d8ffdd4916cbcea5cd95&language=en-US&page=${n}&query=${t}`),i=await a.json();if(o=i.total_pages,0!==o)return console.log(i),i.results}function s(n,a){let i="";return 1===o?(i='<li class="pagination-item">\n      <button class="pagination-button active" type="button" data-page="1">1</button>\n    </li>',u(i)):o<=10?(i=function(t,n){let a=[];for(let t=1;t<=n;t+=1)a.push(`<li class="pagination-item">\n      <button class="pagination-button ${1===t?"active":""}" type="button" data-page="${t}">${t}</button>\n    </li>`);return`<li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${t-1}" disabled="true">&#65124</button></li> \n      ${a.join("")}\n      <li class="pagination-item">\n      ${1!==n?`<button class="pagination-button" type="button" data-page="${t+1}">&#65125</button></li>`:""}`}(n,o),u(i)):o===n||n>o-8?(i=` \n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${(e=n)-1}" disabled="true">&#65124</button></li>\n    <li class="pagination-item">\n      <button class="pagination-button active" type="button" data-page="${(s=o)-8}">...</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${s-7}">${s-7}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${s-6}">${s-6}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${s-5}">${s-5}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${s-4}">${s-4}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${s-3}">${s-3}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${s-2}">${s-2}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${s-1}">${s-1}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${s}">${s}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${e+1}">&#65125</button></li>`,u(i)):1===n||n<9?(i=function(t){return` \n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${t-1}" disabled="true">&#65124</button></li>\n    <li class="pagination-item">\n      <button class="pagination-button active" type="button" data-page="1">1</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="2">2</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="3">3</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="4">4</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="5">5</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="6">6</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="7">7</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="8">8</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="9">...</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${t+1}">&#65125</button></li>`}(n),u(i)):a?(t.prevButton.dataset.page=n-1,void(t.nextButton.dataset.page=n+1)):n>9||n<o-8?(i=function(t,n){return`\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${t-1}" >&#65124</button></li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="1">1</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${t-5}">...</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-visible data-page="${t}">${t}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-visible="true" data-page="${t+1}">${t+1}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-visible="true" data-page="${t+2}">${t+2}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-visible="true" data-page="${t+3}">${t+3}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-visible="true" data-page="${t+4}">${t+4}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${t+5}">...</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${n}">${n}</button>\n    </li>\n    <li class="pagination-item">\n      <button class="pagination-button" type="button" data-page="${t+1}">&#65125</button>\n    </li>\n  `}(n,o),u(i)):void 0;var e,s}function u(n){t.paginationList.innerHTML="",t.paginationList.insertAdjacentHTML("beforeend",n),t.buttons=document.querySelectorAll(".pagination-button"),t.prevButton=document.querySelector(".pagination-item:first-child button"),t.nextButton=document.querySelector(".pagination-item:last-child button")}e(i,a).then((a=>{t.moviesList.insertAdjacentHTML("beforeend",n(a)),o<=10&&s(1,!1)})),t.form.addEventListener("submit",(async function(u){u.preventDefault();const l=u.currentTarget.elements.query.value.trim();if(l===i)return alert("Equal request");a=1;const b=await e(l,a);if(0===o)return t.form.reset(),alert("No results");i=l,t.moviesList.innerHTML="",t.moviesList.insertAdjacentHTML("beforeend",n(b)),s(a,!1),t.form.reset()})),t.paginationList.addEventListener("click",(async function(u){u.preventDefault();const l=Number(u.target.dataset.page);if(l===a)return;console.log(l),a=l;const b=await e(i,a);t.moviesList.innerHTML="",t.moviesList.insertAdjacentHTML("beforeend",n(b));const p=!!u.target.dataset.visible;s(a,p),a>1&&t.prevButton.removeAttribute("disabled");a===o?t.nextButton.setAttribute("disabled",!0):t.nextButton.removeAttribute("disabled");t.buttons.forEach((t=>t.classList.remove("active"))),t.buttons.forEach((t=>{l===Number(t.dataset.page)&&Number(t.textContent)&&t.classList.add("active")}))}));
//# sourceMappingURL=index.ed6d640d.js.map
